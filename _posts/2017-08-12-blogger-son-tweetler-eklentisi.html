---           
layout: post
title: Blogger Son Tweetler Eklentisi
date: 2017-08-12 23:14:00 UTC
updated: 2021-06-19 11:08:35 UTC
comments: false
categories: Blogger
---
<a href="https://1.bp.blogspot.com/-kQQFp2bEsCs/YM3PqKZbT_I/AAAAAAAAHTM/G4Pqh-1aNm8V7-nLPWAXI4PHUAj_pCAbQCNcBGAsYHQ/s0/blogger-twitter-son-tweetler-eklentisi.jpeg" imageanchor="1" ><img title="blogger son tweetler eklentisi 2021" alt="blogger son tweetler eklentisi 2021" border="0" src="https://1.bp.blogspot.com/-kQQFp2bEsCs/YM3PqKZbT_I/AAAAAAAAHTM/G4Pqh-1aNm8V7-nLPWAXI4PHUAj_pCAbQCNcBGAsYHQ/s0/blogger-twitter-son-tweetler-eklentisi.jpeg" data-original-width="1311" data-original-height="741" /></a><br />   Daha önce Twitter'daki son tweetleri blogger tabanlı bloglarımızda göstermek için, Twitter'ın yeni Api'si ile yapılmış olan fakat biraz karmaşık olan bir eklenti paylaşmıştım. Bir kaç gün önce yapımcının eklentiyi güncellemesiyle birlikte kodların çalışmadığını    farkettim. Ayrıca güncelleme ile birlikte artık sadece twitter kullanıcı ismi ile son tweetleri göstermek daha kolay hale getirilmiş.<br /><a name='more'></a><br />Kodları varsayılan yapısından daha sade hale getirerek ve yalın bir halde paylaştım. Gerekli CSS özelleştirmeleri isteğe göre yapılabilir. Jason Mayes'in hazırladığı eklentinin orijinal haline <a target="_blank" href="codepen.io/jasonmayes/pen/Ioype">codepen.io/jasonmayes/pen/Ioype</a> ulaşılabilir.<br /><br />&lt;/head&gt; öncesine eklenmesi gereken javascript kodları : <br />Javascript kodları şablona eklenirken <a href="https://www.zaferzent.com/p/blogger-kod-donusturucu.html" target="_blank" rel="nofollow">blogger kod dönüştürücü</a> aracı ile dönüştürülüp eklenmelidir. <br /><pre>&lt;script&gt;(function(root,factory){if(typeof define==='function'&amp;&amp;define.amd){define([],factory);}else if(typeof exports==='object'){module.exports=factory();}else{factory();}}(this,function(){var domNode='';var maxTweets=20;var parseLinks=true;var queue=[];var inProgress=false;var printTime=true;var printUser=true;var formatterFunction=null;var supportsClassName=true;var showRts=true;var customCallbackFunction=null;var showInteractionLinks=true;var showImages=false;var useEmoji=false;var targetBlank=true;var lang='en';var permalinks=true;var dataOnly=false;var script=null;var scriptAdded=false;function handleTweets(tweets){if(customCallbackFunction===null){var x=tweets.length;var n=0;var element=document.getElementById(domNode);var html='&lt;ul&gt;';while(n&lt;x){html+='&lt;li&gt;'+tweets[n]+'&lt;/li&gt;';n++;}<br />html+='&lt;/ul&gt;';element.innerHTML=html;}else{customCallbackFunction(tweets);}}<br />function strip(data){return data.replace(/&lt;b[^&gt;]*&gt;(.*?)&lt;\/b&gt;/gi,function(a,s){return s;}).replace(/class=&quot;(?!(tco-hidden|tco-display|tco-ellipsis))+.*?&quot;|data-query-source=&quot;.*?&quot;|dir=&quot;.*?&quot;|rel=&quot;.*?&quot;/gi,'');}<br />function targetLinksToNewWindow(el){var links=el.getElementsByTagName('a');for(var i=links.length-1;i&gt;=0;i--){links[i].setAttribute('target','_blank');}}<br />function getElementsByClassName(node,classname){var a=[];var regex=new RegExp('(^| )'+classname+'( |$)');var elems=node.getElementsByTagName('*');for(var i=0,j=elems.length;i&lt;j;i++){if(regex.test(elems[i].className)){a.push(elems[i]);}}<br />return a;}<br />function extractImageUrl(image_data){if(image_data!==undefined&amp;&amp;image_data.innerHTML.indexOf('data-srcset')&gt;=0){var data_src=image_data.innerHTML.match(/data-srcset=&quot;([A-z0-9%_\.-]+)/i)[0];return decodeURIComponent(data_src).split('&quot;')[1];}}<br />var twitterFetcher={fetch:function(config){if(config.maxTweets===undefined){config.maxTweets=20;}<br />if(config.enableLinks===undefined){config.enableLinks=true;}<br />if(config.showUser===undefined){config.showUser=true;}<br />if(config.showTime===undefined){config.showTime=true;}<br />if(config.dateFunction===undefined){config.dateFunction='default';}<br />if(config.showRetweet===undefined){config.showRetweet=true;}<br />if(config.customCallback===undefined){config.customCallback=null;}<br />if(config.showInteraction===undefined){config.showInteraction=true;}<br />if(config.showImages===undefined){config.showImages=false;}<br />if(config.useEmoji===undefined){config.useEmoji=false;}<br />if(config.linksInNewWindow===undefined){config.linksInNewWindow=true;}<br />if(config.showPermalinks===undefined){config.showPermalinks=true;}<br />if(config.dataOnly===undefined){config.dataOnly=false;}<br />if(inProgress){queue.push(config);}else{inProgress=true;domNode=config.domId;maxTweets=config.maxTweets;parseLinks=config.enableLinks;printUser=config.showUser;printTime=config.showTime;showRts=config.showRetweet;formatterFunction=config.dateFunction;customCallbackFunction=config.customCallback;showInteractionLinks=config.showInteraction;showImages=config.showImages;useEmoji=config.useEmoji;targetBlank=config.linksInNewWindow;permalinks=config.showPermalinks;dataOnly=config.dataOnly;var head=document.getElementsByTagName('head')[0];if(script!==null){head.removeChild(script);}<br />script=document.createElement('script');script.type='text/javascript';if(config.list!==undefined){script.src='https://syndication.twitter.com/timeline/list?'+'callback=__twttrf.callback&amp;dnt=false&amp;list_slug='+<br />config.list.listSlug+'&amp;screen_name='+config.list.screenName+'&amp;suppress_response_codes=true&amp;lang='+(config.lang||lang)+'&amp;rnd='+Math.random();}else if(config.profile!==undefined){script.src='https://syndication.twitter.com/timeline/profile?'+'callback=__twttrf.callback&amp;dnt=false'+'&amp;screen_name='+config.profile.screenName+'&amp;suppress_response_codes=true&amp;lang='+(config.lang||lang)+'&amp;rnd='+Math.random();}else if(config.likes!==undefined){script.src='https://syndication.twitter.com/timeline/likes?'+'callback=__twttrf.callback&amp;dnt=false'+'&amp;screen_name='+config.likes.screenName+'&amp;suppress_response_codes=true&amp;lang='+(config.lang||lang)+'&amp;rnd='+Math.random();}else{script.src='https://cdn.syndication.twimg.com/widgets/timelines/'+<br />config.id+'?&amp;lang='+(config.lang||lang)+'&amp;callback=__twttrf.callback&amp;'+'suppress_response_codes=true&amp;rnd='+Math.random();}<br />head.appendChild(script);}},callback:function(data){if(data===undefined||data.body===undefined){inProgress=false;if(queue.length&gt;0){twitterFetcher.fetch(queue[0]);queue.splice(0,1);}<br />return;}<br />if(!useEmoji){data.body=data.body.replace(/(&lt;img[^c]*class=&quot;Emoji[^&gt;]*&gt;)|(&lt;img[^c]*class=&quot;u-block[^&gt;]*&gt;)/g,'');}<br />if(!showImages){data.body=data.body.replace(/(&lt;img[^c]*class=&quot;NaturalImage-image[^&gt;]*&gt;|(&lt;img[^c]*class=&quot;CroppedImage-image[^&gt;]*&gt;))/g,'');}<br />if(!printUser){data.body=data.body.replace(/(&lt;img[^c]*class=&quot;Avatar&quot;[^&gt;]*&gt;)/g,'');}<br />var div=document.createElement('div');div.innerHTML=data.body;if(typeof(div.getElementsByClassName)==='undefined'){supportsClassName=false;}<br />function swapDataSrc(element){var avatarImg=element.getElementsByTagName('img')[0];avatarImg.src=avatarImg.getAttribute('data-src-2x');return element;}<br />var tweets=[];var authors=[];var times=[];var images=[];var rts=[];var tids=[];var permalinksURL=[];var x=0;if(supportsClassName){var tmp=div.getElementsByClassName('timeline-Tweet');while(x&lt;tmp.length){if(tmp[x].getElementsByClassName('timeline-Tweet-retweetCredit').length&gt;0){rts.push(true);}else{rts.push(false);}<br />if(!rts[x]||rts[x]&amp;&amp;showRts){tweets.push(tmp[x].getElementsByClassName('timeline-Tweet-text')[0]);tids.push(tmp[x].getAttribute('data-tweet-id'));if(printUser){authors.push(swapDataSrc(tmp[x].getElementsByClassName('timeline-Tweet-author')[0]));}<br />times.push(tmp[x].getElementsByClassName('dt-updated')[0]);permalinksURL.push(tmp[x].getElementsByClassName('timeline-Tweet-timestamp')[0]);if(tmp[x].getElementsByClassName('timeline-Tweet-media')[0]!==undefined){images.push(tmp[x].getElementsByClassName('timeline-Tweet-media')[0]);}else{images.push(undefined);}}<br />x++;}}else{var tmp=getElementsByClassName(div,'timeline-Tweet');while(x&lt;tmp.length){if(getElementsByClassName(tmp[x],'timeline-Tweet-retweetCredit').length&gt;0){rts.push(true);}else{rts.push(false);}<br />if(!rts[x]||rts[x]&amp;&amp;showRts){tweets.push(getElementsByClassName(tmp[x],'timeline-Tweet-text')[0]);tids.push(tmp[x].getAttribute('data-tweet-id'));if(printUser){authors.push(swapDataSrc(getElementsByClassName(tmp[x],'timeline-Tweet-author')[0]));}<br />times.push(getElementsByClassName(tmp[x],'dt-updated')[0]);permalinksURL.push(getElementsByClassName(tmp[x],'timeline-Tweet-timestamp')[0]);if(getElementsByClassName(tmp[x],'timeline-Tweet-media')[0]!==undefined){images.push(getElementsByClassName(tmp[x],'timeline-Tweet-media')[0]);}else{images.push(undefined);}}<br />x++;}}<br />if(tweets.length&gt;maxTweets){tweets.splice(maxTweets,(tweets.length-maxTweets));authors.splice(maxTweets,(authors.length-maxTweets));times.splice(maxTweets,(times.length-maxTweets));rts.splice(maxTweets,(rts.length-maxTweets));images.splice(maxTweets,(images.length-maxTweets));permalinksURL.splice(maxTweets,(permalinksURL.length-maxTweets));}<br />var arrayTweets=[];var x=tweets.length;var n=0;if(dataOnly){while(n&lt;x){arrayTweets.push({tweet:tweets[n].innerHTML,author:authors[n]?authors[n].innerHTML:'Unknown Author',author_data:{profile_url:authors[n]?authors[n].querySelector('[data-scribe=&quot;element:user_link&quot;]').href:null,profile_image:authors[n]?authors[n].querySelector('[data-scribe=&quot;element:avatar&quot;]').getAttribute('data-src-1x'):null,profile_image_2x:authors[n]?authors[n].querySelector('[data-scribe=&quot;element:avatar&quot;]').getAttribute('data-src-2x'):null,screen_name:authors[n]?authors[n].querySelector('[data-scribe=&quot;element:screen_name&quot;]').title:null,name:authors[n]?authors[n].querySelector('[data-scribe=&quot;element:name&quot;]').title:null},time:times[n].textContent,timestamp:times[n].getAttribute('datetime').replace('+0000','Z').replace(/([\+\-])(\d\d)(\d\d)/,'$1$2:$3'),image:extractImageUrl(images[n]),rt:rts[n],tid:tids[n],permalinkURL:(permalinksURL[n]===undefined)?'':permalinksURL[n].href});n++;}}else{while(n&lt;x){if(typeof(formatterFunction)!=='string'){var datetimeText=times[n].getAttribute('datetime');var newDate=new Date(times[n].getAttribute('datetime').replace(/-/g,'/').replace('T',' ').split('+')[0]);var dateString=formatterFunction(newDate,datetimeText);times[n].setAttribute('aria-label',dateString);if(tweets[n].textContent){if(supportsClassName){times[n].textContent=dateString;}else{var h=document.createElement('p');var t=document.createTextNode(dateString);h.appendChild(t);h.setAttribute('aria-label',dateString);times[n]=h;}}else{times[n].textContent=dateString;}}<br />var op='';if(parseLinks){if(targetBlank){targetLinksToNewWindow(tweets[n]);if(printUser){targetLinksToNewWindow(authors[n]);}}<br />if(printUser){op+='&lt;div class=&quot;user&quot;&gt;'+strip(authors[n].innerHTML)+'&lt;/div&gt;';}<br />op+='&lt;p class=&quot;tweet&quot;&gt;'+strip(tweets[n].innerHTML)+' ';if(printTime){if(permalinks){op+='&lt;a class=&quot;time&quot; href=&quot;'+permalinksURL[n]+'&quot;&gt;'+times[n].getAttribute('aria-label')+'&lt;/a&gt;&lt;/p&gt;';}else{op+='&lt;p class=&quot;timePosted&quot;&gt;'+<br />times[n].getAttribute('aria-label')+'&lt;/p&gt;';}}}else{if(tweets[n].textContent){if(printUser){op+='&lt;p class=&quot;user&quot;&gt;'+authors[n].textContent+'&lt;/p&gt;';}<br />op+='&lt;p class=&quot;tweet&quot;&gt;'+tweets[n].textContent+'&lt;/p&gt;';if(printTime){op+='&lt;p class=&quot;timePosted&quot;&gt;'+times[n].textContent+'&lt;/p&gt;';}}else{if(printUser){op+='&lt;p class=&quot;user&quot;&gt;'+authors[n].textContent+'&lt;/p&gt;';}<br />op+='&lt;p class=&quot;tweet&quot;&gt;'+tweets[n].textContent+'&lt;/p&gt;';if(printTime){op+='&lt;p class=&quot;timePosted&quot;&gt;'+times[n].textContent+'&lt;/p&gt;';}}}<br />if(showInteractionLinks){op+='&lt;p class=&quot;interact&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/'+'tweet?in_reply_to='+tids[n]+'&quot; class=&quot;twitter_reply_icon&quot;'+<br />(targetBlank?' target=&quot;_blank&quot;&gt;':'&gt;')+'Reply&lt;/a&gt;&lt;a href=&quot;https://twitter.com/intent/retweet?'+'tweet_id='+tids[n]+'&quot; class=&quot;twitter_retweet_icon&quot;'+<br />(targetBlank?' target=&quot;_blank&quot;&gt;':'&gt;')+'Retweet&lt;/a&gt;'+'&lt;a href=&quot;https://twitter.com/intent/favorite?tweet_id='+<br />tids[n]+'&quot; class=&quot;twitter_fav_icon&quot;'+<br />(targetBlank?' target=&quot;_blank&quot;&gt;':'&gt;')+'Favorite&lt;/a&gt;&lt;/p&gt;';}<br />if(showImages&amp;&amp;images[n]!==undefined&amp;&amp;extractImageUrl(images[n])!==undefined){op+='&lt;div class=&quot;media&quot;&gt;'+'&lt;img src=&quot;'+extractImageUrl(images[n])+'&quot; alt=&quot;Image from tweet&quot; /&gt;'+'&lt;/div&gt;';}<br />if(showImages){arrayTweets.push(op);}else if(!showImages&amp;&amp;tweets[n].textContent.length){arrayTweets.push(op);}<br />n++;}}<br />handleTweets(arrayTweets);inProgress=false;if(queue.length&gt;0){twitterFetcher.fetch(queue[0]);queue.splice(0,1);}}};window.__twttrf=twitterFetcher;window.twitterFetcher=twitterFetcher;return twitterFetcher;}));<br /><br />var configProfile = {<br />  &quot;profile&quot;: {&quot;screenName&quot;: 'TWITTERKULLANICIADI'},<br />  &quot;domId&quot;: 'tweets',<br />  &quot;maxTweets&quot;: 20,<br />  &quot;enableLinks&quot;: true, <br />  &quot;showUser&quot;: false,<br />  &quot;showTime&quot;: true,<br />  &quot;showImages&quot;: false,<br />  &quot;lang&quot;: 'tr'<br />};<br />twitterFetcher.fetch(configProfile);<br />&lt;/script&gt;<br /></pre><br />Notlar : <br />Kodların en alt kısmında yer alan ayarların açıklamaları aşağıdaki şekilde. Önemli olan iki ayar kullanıcı adı ve kaç adet tweet gösterileceği. Diğer ayarlar isteğe göre düzenlenebilir.<br /><pre>var configProfile = {<br />  "profile": {"screenName": 'webgunlugu'},  // Twitter Kullanıcı adı<br />  "domId": 'tweets', // Tweetlerin gösterileceği div ID'si<br />  "maxTweets": 20,  // Gösterilecek tweet sayısı<br />  "enableLinks": true, // Tweetlerdeki bağlantıların tıklanabilir olup/olmaması<br />  "showUser": false, // Kullanıcı bilgileri gösterme/gizleme<br />  "showTime": true, // Tweet zamanı gösterme/gizleme<br />  "showImages": false, // Tweetlerdeki fotoğrafların gösterme/gizleme<br />  "showInteraction":false, //  Retweet, Reply, Retweet, Favorite gibi bağlantıları göster/gizle<br />  "lang": 'tr' // Tweet zaman dili<br />};</pre><br />CSS ayarları : <br /><pre>&lt;style&gt;<br />#tweets{overflow:auto}<br />#tweets .interact{display:none}<br />#tweets .tweet{padding:10px;}<br />#tweets .tweet a{text-decoration:none; color:#fff; }<br />#tweets .tweet a.time{border-bottom: 1px dashed #fff; cursor:pointer; background: #f7f7f7;<br />padding: 3px;<br />border-radius: 5px;<br />font-size: 13px;<br />}<br />#tweets ul, ul li{list-style:none; padding:0; margin:0; }<br />#tweets .tweet{float:left; font-family: "Segoe UI",Arial,sans-serif;}<br />&lt;/style&gt;</pre><br />Tweetlerin gösterileceği element. Nerede ve ne şekilde kullanılacaksa oraya eklenmeli.<br /><pre>&lt;div id=&quot;tweets&quot;&gt;&lt;/div&gt;</pre><br />Not: Yazı 10 Mart 2019 tarihinde güncellenmiş olup kodlar aktif olarak çalışmaktadır. Kodları canlı olarak test etmek için <a target="_blank" href="https://www.zaferzent.com/p/twitter.html">zaferzent.com/p/twitter-gunlugum.html</a> sayfasına bakabilirsiniz.<br /><br />20.05.2021 Güncelleme:<br />- Kodların önizleme adresi güncellenmiştir.<br />- Kodlar aktif çalışmaktadır, fakat tarayıcınızda adblock tarzı reklam engelleme eklentileri varsa kod çalışmayacaktır. <br /><br />19.06.2021 Güncelleme<br />- Test edilerek çalışır durumda olan kodlar eklenmiştir.<br />- *Not : Tarayıcınızda reklam engelleyici gibi eklentiler varsa çalışmayacaktır. 